!function(e){"use strict";var t=function(e){function t(e,n){if(!n)var n=[];if("object"==typeof e&&e)for(var o in e)if("object"==typeof e[o])if(e[o].$ref){var r=e[o].$ref.split("#")[0];r&&(a.__refs[r]||n.indexOf(r)<0&&n.push(r))}else t(e[o],n);return n}function o(e){if("object"==typeof e&&e)for(var t in e)if("object"==typeof e[t])if(e[t].$ref){var n=e[t].$ref.split("#"),r=n[0]||"",s=n[1]||"";"/"===s[0]&&(s=s.substr(1));var i=r?a.__refs[r]:a.__schema;i?e[t]=s?a.getFromPath(i,s.split("/")):i:a.emit("error","could not assign referenced schema to key "+t)}else o(e[t])}var a=this;return a.__config=e||{},Array.isArray(a.__config.editable)||(a.__config.editable=["string","number","date","boolean"]),a.__config.hashnavigation&&window.addEventListener("hashchange",function(e){var t=(window.location.hash||"").substr(1);t&&(t="/"+t);var n=a.rows[a.rowsref[a.jsonName+t]];n&&a.goToNode(n,!0,!0)}),a.__node=n(e.node||document.querySelector(e.node)||document.getElementById("jsone")||document.body).class("jsone"),a.rows=[],a.rowsref={},a.help=0,a.__state={},a.inputChangeEvent=function(e,t){clearTimeout(a.__state.changes_timer),a.__state.changes_timer=setTimeout(function(){a.checkForChanges(e,t)},100)},a.jsonChangeEvent=function(e,t){clearTimeout(a.__state.changes_timer),a.__state.changes_timer=setTimeout(function(){a.checkForChangesJSON(e,t)},100)},a.checkForChangesJSON=function(e,t){var n,o=!1;try{n=JSON.parse(e.value),o=!0,e.style.outline=""}catch(n){a.emit("jsonparse",t),e.style.outline="2px solid red"}if(o){var r=a.rowsref[t],s=a.rows[r];if(s&&JSON.stringify(s.node[s.key])!==JSON.stringify(n)){if("object"==typeof n){for(var i in n)s.node[s.key][i]=n[i];for(var i in s.node[s.key])"undefined"==typeof n[i]&&delete s.node[s.key][i]}else s.node[s.key]=n;for(var c=a.rows[r];c;)0===c.joinpath.indexOf(t)?(c.changed=!0,r++,c=a.rows[r]):c=!1;a.__track_change(t,n),a.renderState({rowsOnly:!0})}}},a.checkForChanges=function(e,t){var n=a.rows[a.rowsref[t]];n&&n.node[n.key]!=e.value&&("number"===n.type?n.node[n.key]=e.value&&"0"!=e.value?1*e.value:"":"boolean"===n.type?n.node[n.key]=e.checked:n.node[n.key]=e.value||"",n.changed=!0,a.__track_change(t,n.node[n.key]),a.renderState({rowsOnly:!0}))},a.valueFromPath=function(e){return a.getFromPath(a.__json,e)},a.getFromPath=function(e,t){var n=e,o=!1;return t.forEach(function(e){"undefined"!=typeof n[e]?n=n[e]:o=!0}),!o&&n},a.json=function(e){if(!e)return a.emit("error","invalid json"),!1;var t=typeof e;"object"===t?(a.__json=e,a.__jsonSaveKey||(a.__jsonSaveKey=a.__config.jsonname||a.__config.jsonName||"customObject"),a.initJSON()):"string"===t&&(a.__jsonSaveKey=e,a.fetch(e,function(e,t){t||a.emit("error","request error "+e),a.json(t)}))},a.getNodeType=function(e){var t=Array.isArray(e)?"array":typeof e;return"object"===t&&null===e&&(t="null"),t},a.loopJSON=function(e,t,n,o){if(n.length){var r=a.getNodeType(e[t]);if(o(e,t,n,r),"object"===r||"array"===r)for(var s in e[t])a.loopJSON(e[t],s,n.concat(s),o)}else for(var s in e)a.loopJSON(e,s,n.concat(s),o)},a.initJSON=function(){a.getStateConfig(a.__jsonSaveKey),Object.keys(a.__state.expanded).length?null:a.__state.expanded[a.__jsonSaveKey]=!0,a.jsonName=a.__config.jsonname||a.__config.jsonName||a.__jsonSaveKey.split("/").pop(),a.help=a.__state.help||a.jsonName,a.__state.editMode=a.__state.editMode||"form",a.__state.menu!==!1&&a.__node.attr({"data-menu":"1"}),window.location.hash.substr(1)&&(a.help=a.jsonName+"/"+window.location.hash.substr(1));var e={properties:{}};e.properties[a.jsonName]=a.__schema,a.__schema=e,a.processJSON(),a.emit("jsonready",!0),a.renderState()},a.processJSON=function(){var e={};e[a.jsonName]=a.__json,a.rows=[],a.rowsref={},a.__json_rows.html(""),a.loopJSON(e,void 0,[],function(e,t,n,o){var r=n.join("/"),s=a.getSchemaForPath(n);s.type&&s.type!==o&&(e[t]=a.typeCast(e[t],s.type),a.emit("autofix",r,e[t],{path:n.concat(t),reason:"type",typeFrom:o,typeTo:s.type}),o=s.type);var i=a.rows.push({node:e,key:t,path:n,joinpath:r,parent:n.slice(0,-1).join("/"),type:o,schema:s,changed:!0,expanded:a.__state.expanded[r]||n.length<2||a.help.indexOf(r)>-1?"1":0});a.rowsref[r]=i-1})},a.schemaGetRefs=function(e,n){var r=0,s=0,i=!1,c=function(){s++,s===r&&(o(e),n(i,!0))};r++,t(e).forEach(function(e){r++,a.__refs[e]?setTimeout(c,0):a.fetch(e,function(t,n){n?(a.__refs[e]=n,a.schemaGetRefs(n,function(e,t){e&&(i=new Error("could not build sub-schema")),c()})):(a.emit("error","ref schema request error"+t),i=new Error("could not get or parse reference schema "+e),setTimeout(c,0))})}),setTimeout(c,0)},a.initSchema=function(e){a.__ref_urls=[],a.__refs={},a.schemaGetRefs(e,function(e,t){e?console.error(e):(a.emit("schemaready",!0),a.json(a.__config.json))})},a.schema=function(e){return e?void("object"==typeof e?(a.__schema=e,a.initSchema(a.__schema)):a.fetch(e,function(e,t){t||a.emit("error","request error"+e),a.schema(t)})):(a.__schema={},!1)},a.getSchemaForPath=function(e){var t={0:[a.__schema]},n={};return e.forEach(function(n,o){var r=[];if(o>0){var s=e.slice(0,o);if("array"===a.rows[a.rowsref[s.join("/")]].type){var i=a.getSchemaForPath(s);i.items&&r.push(i.items)}}t[o]&&t[o].forEach(function(e){if(e.properties&&e.properties[n]&&r.push(e.properties[n]),e.patternProperties)for(var t in e.patternProperties){var o=new RegExp(t);o.test(n)&&r.push(e.patternProperties[t])}}),t[o+1]=(t[o+1]||[]).concat(r)}),t[e.length]&&t[e.length].forEach(function(e){for(var t in e)"undefined"==typeof n[t]&&(n[t]=e[t])}),n},a.typeCast=function(e,t){return typeof e===t&&null!==e||(e=Array.isArray(e)||"array"!==t?"object"==t?{}:"boolean"===t?!!e:"number"===t?0:"":[]),e},a.addToJSON=function(e,t){"array"===e.schema.type&&(t=e.node[e.key].length||0);var n=e.path.concat(t),o=n.join("/"),r=a.getSchemaForPath(n);"object"===e.type?e.node[e.key][t]=a.typeCast("",r.type):"array"===e.type&&e.node[e.key].push(a.typeCast("",r.type)),a.__track_change(e.joinpath,e.node[e.key]),a.processJSON();var s=a.rowsref[o];return a.rows[s]},a.getNodeDescription=function(e){var t="";return"object"===e.type?(t=e.node[e.key].name||e.node[e.key].title||e.node[e.key].label||e.node[e.key]._label||e.node[e.key].description,"string"==typeof t?'<span class="jsone-node-helper">'+n().new("span").text(t).html()+"</span>":""):"number"===e.type||"string"===e.type?'<span class="jsone-node-colon">:</span><span class="jsone-node-value">'+(e.node[e.key]?n().new("span").text(e.node[e.key]).html():'<span class="jsone-node-empty"></span>')+"</span>":"null"===e.type?'<span class="jsone-node-helper">null</span>':t},a.renderHelpSegment=function(e,t,o){var r=n().new("div").class("jsone-help-section").appendTo(t),s=r,i=r;if("main"!==o&&(r.class("jsone-help-row").attr({"data-path":e.joinpath,"data-parent-path":e.parent}),s=n().new("div").class("jsone-help-key").attr({title:e.joinpath+" ("+e.type+")"}).text(e.path[e.path.length-1]).append(n().new("span").class("jsone-node-colon").text(":")).appendTo(r),i=n().new("div").class("jsone-help-value").appendTo(r),s.append(n().new("span").class("jsone-drag-indicator").on("mousedown touchstart",a.sortingEvents))),"object"===e.type||"array"===e.type)"main"!==o&&(n().new("span").html(a.getNodeDescription(e)).appendTo(i),s.class("jsone-help-key jsone-help-key-clickable").on("click",function(t){a.__curMoveEvent||a.goToNode(e,!0)}),n().new("span").text(" »").class("jsone-help-key-clickable").appendTo(i).on("click",function(t){a.goToNode(e,!0)}));else if(a.__config.editable.indexOf(e.schema.format||e.type)>-1){var c={node:"textarea",attr:{placeholder:e.schema.placeholder||""}};if("boolean"===e.type?(c.node="input",c.attr.type="checkbox",c.attr.checked=e.node[e.key]):"number"===e.schema.format||"date"===e.schema.format||"date-time"===e.schema.format?(c.node="input",c.attr.type=e.schema.format.replace(/\-/g,""),c.attr.value=e.node[e.key]):e.schema.enum&&(c.node="select",e.schema.enum.forEach(function(){})),c.dom=n().new(c.node).class("jsone-input").attr(c.attr).appendTo(i).on("input change",function(t){a.inputChangeEvent(c.dom.elements[0],e.joinpath)}),"textarea"===c.node)c.dom.text(e.node[e.key]||"").autosizeTextarea();else if(e.schema.enum){var p=!1;e.schema.enum.forEach(function(t){t===e.node[e.key]&&(p=!0),n().new("option").attr({value:t,selected:t===e.node[e.key]}).text(t).appendTo(c.dom)}),p||n().new("option").attr({value:e.node[e.key],selected:!0}).text(e.node[e.key]).appendTo(c.dom)}}if(e.schema.description&&n().new("div").class("jsone-help-description").html(e.schema.description).appendTo(i),("object"===e.type||"array"===e.type)&&"main"==o){var d=n().new("div").css({display:"table"}).appendTo(t);for(var l in e.node[e.key]){var u=a.rows[a.rowsref[e.path.concat(l).join("/")]];a.renderHelpSegment(u,d,"sub")}if(e.schema.additionalProperties!==!1)if("array"===e.type)n().new("button").text("add row").class("jsone-input jsone-input-add").on("click",function(t){a.addToJSON(e,"add"),a.renderState()}).appendTo(t);else{var f=n().new("datalist").attr({id:"propertyList"});e.schema.properties&&Object.keys(e.schema.properties).forEach(function(t){if("undefined"==typeof e.node[e.key][t]){var o="";e.schema.properties[t].description&&(o+=": "+e.schema.properties[t].description),n().new("option").attr({value:t}).text(t+o).appendTo(f)}});var h=n().new("form").css({"margin-top":"20px"}).on("submit",function(t){var n=h.find("input").elements[0].value||"";n&&"undefined"==typeof e.node[e.key][n]&&a.addToJSON(e,n),a.renderState(),t.preventDefault()}).append(n().new("label").class("jsone-ibb").text("add property ").append(n().new("input").class("jone-input").attr({type:"text",list:"propertyList"})).append(f)).append(n().new("span").text(" ")).append(n().new("input").class("jsone-input jsone-input-add").attr({type:"submit",value:"add property"})).appendTo(t)}}},a.renderHelpPath=function(e){a.__json_help.html("");var t=n().new("div").appendTo(a.__json_help);n().new("span").class("jsone-ibb jsone-help-menu").appendTo(t).on("click",function(e){a.__state.menu=a.__state.menu===!1,a.__node.attr({"data-menu":a.__state.menu!==!1?"1":"0"})});var o=n().new("span").class("jsone-ibb jsone-help-path").appendTo(t),r=n().new("span").class("jsone-ibb jsone-help-ops").appendTo(t);e.path.forEach(function(t,r){n().new("span").class("jsone-ibb jsone-help-key-clickable").text(t).on("click",function(t){a.goToNode(a.rows[a.rowsref[e.parent]],!0)}).appendTo(o),r<e.path.length-1&&n().new("span").class("jsone-delimiter").text("/").appendTo(o)}),n().new("button").attr({href:"#"}).class("jsone-input").text("json"===a.__state.editMode?"form":"json").appendTo(r).on("click",function(e){"json"===a.__state.editMode?a.__state.editMode="form":a.__state.editMode="json",a.renderState()});var s=n().new("div").class("jsone-help-items").appendTo(a.__json_help);if("json"===a.__state.editMode)var i=n().new("textarea").class("jsone-input jsone-edit-json").appendTo(s).text(JSON.stringify(e.node[e.key],void 0,2)||"").autosizeTextarea().on("input change",function(t){a.jsonChangeEvent(i.elements[0],e.joinpath)});else a.renderHelpSegment(e,s,"main")},a.goToNode=function(e,t,n){a.help=e.joinpath,!n&&a.__config.hashnavigation&&(document.location.hash=e.path.slice(1).join("/")),t&&a.renderState()},a.renderState=function(e){e||(e={}),a.__state={__jsone_saveKey:a.__jsonSaveKey,expanded:{},editMode:a.__state.editMode,help:a.help},a.rows.forEach(function(t){var o=t.path.length-1,r={"padding-left":10*o+"px",display:o>0?"none":"block"},s=!t.row;t.row=(t.row||n().new("div").class("jsone-row")).attr({"data-children":"object"!==t.type&&"array"!==t.type?"0":"1","data-expanded":t.expanded,"data-active":"0"}),t.changed&&(t.row.html("").append(n().new("span").class("jsone-row-toggle")).append(n().new("span").class("jsone-row-text").html('<span class="jsone-node-key">'+t.key+"</span>"+a.getNodeDescription(t))).css(r).attr({title:t.key+" ("+t.type+") "+(t.schema.description||"")}),t.changed=!1),s&&t.row.appendTo(a.__json_rows).on("click",function(e){"jsone-row-toggle"!==e.target.className&&"jsone-node-key"!==e.target.className||(t.expanded=t.expanded||"object"!==t.type&&"array"!==t.type?0:1),"jsone-row-toggle"!==e.target.className&&a.goToNode(t,!1),a.renderState()}),t.parent&&(a.rows[a.rowsref[t.parent]].expanded?t.row.css({display:""}):(t.expanded=0,t.row.attr({expanded:0}).css({display:"none"}))),t.expanded&&(a.__state.expanded[t.joinpath]=!0),e.rowsOnly||a.help!==t.joinpath||(t.row.attr({"data-active":"1"}),a.renderHelpPath(t))}),a.saveStateConfig()},a.saveStateConfig=function(){clearTimeout(a.saveConfigTimer),a.saveConfigTimer=setTimeout(function(){window.localStorage.setItem("jsone_state_config",JSON.stringify(a.__state))},100)},a.getStateConfig=function(e){var t=window.localStorage.getItem("jsone_state_config");if(t)try{t=JSON.parse(t)}catch(e){t={}}else t={};t.expanded||(t.expanded={}),t.__jsone_saveKey===e?a.__state=t:a.__state=t={expanded:{}}},a.fetch=function(e,t){a.__config.urlreplace&&Object.keys(a.__config.urlreplace).forEach(function(t){e=e.replace(t,a.__config.urlreplace[t])}),__mdd.prototype.http(e,t)},a.__node.elements[0].classList.add("jsone"),a.__json_rows=n().new("div").class("jsone-rows").appendTo(a.__node),a.__json_help=n().new("div").class("jsone-help").appendTo(a.__node),a.sortingEvents=function(e){e.preventDefault();for(var t=e.target,n=e.target.getAttribute("data-path");!n&&t;)"jsone"===t.parentNode.className?t=!1:t.parentNode&&(t=t.parentNode,n=t.getAttribute("data-path"));if("mousedown"===e.type||"touchstart"===e.type)a.__curMoveEvent={path:n,getState:function(){a.__curMoveEvent.els=a.__json_help.find(".jsone-help-row").elements,a.__curMoveEvent.currentOrder=a.__curMoveEvent.els.map(function(e){return e.getAttribute("data-path")}),a.__curMoveEvent.index=a.__curMoveEvent.currentOrder.indexOf(n)}},a.__curMoveEvent.getState(),window.addEventListener("mousemove",a.sortingEvents),window.addEventListener("mouseup",a.sortingEvents);else if(n&&a.__curMoveEvent)if("mouseup"===e.type||"touchend"===e.type)setTimeout(function(){a.__curMoveEvent.getState();var e=a.__curMoveEvent.path.split("/").slice(0,-1).join("/"),t=a.rows[a.rowsref[e]];if(a.__curMoveEvent.currentOrder&&("object"===t.type||"array"===t.type)){var n="array"!==t.type?{}:[];a.__curMoveEvent.currentOrder.forEach(function(e){var o=a.rows[a.rowsref[e]];"array"!==t.type?n[o.key]=o.node[o.key]:n.push(o.node[o.key])}),t.node[t.key]=n,a.__track_change(e,n),a.processJSON(),a.renderState()}a.__curMoveEvent=!1},100),window.removeEventListener("mousemove",a.sortingEvents),window.removeEventListener("touchend",a.sortingEvents);else if("mousemove"===e.type||"touchmove"===e.type){if(n!==a.__curMoveEvent.path){var o=a.__curMoveEvent.currentOrder.indexOf(n),r=a.__curMoveEvent.els[a.__curMoveEvent.index],s=a.__curMoveEvent.els[o];r&&s&&("down"===a.__curMoveEvent.direction?s.parentNode.insertBefore(s,r):s.parentNode.insertBefore(r,s))}a.__curMoveEvent.y=e.touches?e.touches[0].pageY:e.pageY,a.__curMoveEvent.direction=a.__curMoveEvent.y<a.__curMoveEvent.lastY?"up":"down",a.__curMoveEvent.lastY=a.__curMoveEvent.y}},a.__changes=[],a.__track_change=function(e,t){var n=!1;a.__changes.forEach(function(t){e.indexOf(t)>-1&&(n=!0)}),n||a.__changes.push(e),a.emit("change",e,t),a.getChanges()},a.getChanges=function(){var e=[];return a.__changes.forEach(function(t){var n=t.split("/").slice(1);e.push({path:n,joinpath:n.join("/"),value:a.valueFromPath(n)})}),e},a.__listeners={},a.emit=function(){a.__listeners.event&&a.__listeners.event([].slice.call(arguments)),a.__listeners[event]&&a.__listeners[event](arguments[0],arguments[1],arguments[2],arguments[3])},a.on=function(e,t){"function"==typeof t&&(a.__listeners[e]=t)},setTimeout(function(){a.schema(a.__config.schema),a.emit("init",!0)},0),__mdd.prototype.stylesheet({".jsone":{position:"relative",overflow:"hidden",width:"100%"},".jsone-rows":{position:"absolute",left:0,top:0,height:"100%","padding-top":"12px","font-family":"monospace, Courier New","font-size":"12px",overflow:"hidden","overflow-y":"auto","white-space":"nowrap",width:"300px"},".jsone-help":{background:"#fff","min-height":"400px","max-height":"400px","overflow-y":"auto","max-width":"800px",transform:"translate3d(0, 0, 0)",transition:"transform 0.15s ease-in-out"},'.jsone[data-menu="1"] .jsone-help':{width:"calc(100% - 300px)",transform:"translate3d(300px, 0, 0)"},".jsone-ibb":{display:"inline-block","vertical-align":"middle","box-sizing":"border-box"},".jsone-row":{cursor:"pointer"},".jsone-row:hover":{"background-color":"#f1f1f1"},".jsone-row-text":{display:"inline-block",padding:"4px 0"},".jsone-row-toggle:before":{content:'""',display:"inline-block",width:"16px"},'.jsone-row[data-children="1"] .jsone-row-toggle:before':{content:'"+"'},'.jsone-row[data-children="1"][data-expanded="1"] .jsone-row-toggle:before':{content:'"–"'},'.jsone-row[data-active="1"]':{"background-color":"#f1f1f1"},".jsone-node-helper":{"padding-left":"4px","font-size":"-1",color:"#CCC"},".jsone-node-key":{color:"#9936a1"},".jsone-node-colon":{"margin-right":"2px"},".jsone-node-value":{color:"#666"},".jsone-node-empty:before":{content:'"-"',color:"#ccc"},".jsone-help-menu":{cursor:"pointer",padding:"8px 12px",width:"40px"},".jsone-help-menu:before":{display:"inline-block",transition:"transform 0.5s ease-in-out",transform:"rotate(0deg)","transform-origin":"50% 50%",content:'"»"'},'.jsone[data-menu="1"] .jsone-help-menu:before':{transform:"rotate(180deg)"},".jsone-help-path":{padding:"12px 12px 12px 0",width:"calc(100% - 90px)"},".jsone-help-ops":{"text-align":"right","padding-right":"12px",width:"50px"},".jsone-help-items":{padding:"0 12px 12px 12px"},".jsone-help-key":{position:"relative","text-align":"right",padding:"12px 4px 12px 20px",display:"table-cell","vertical-align":"top",overflow:"hidden","font-weight":"bold"},".jsone-help-key-clickable":{color:"#9936a1",cursor:"pointer"},".jsone-drag-indicator":{cursor:"move",position:"absolute",left:0,"text-align":"center",top:"10px",width:"12px",height:"12px",display:"inline-block"},".jsone-drag-indicator:before":{display:"inline-block",content:'"↕"'},".jsone-help-value":{padding:"12px 0",display:"table-cell","vertical-align":"top",width:"100%"},".jsone-help-description":{color:"#999"},".jsone-help-section":{"margin-bottom":"12px"},".jsone-help-row":{display:"table-row"},".jsone-help-section:first":{"border-top-color":"#666"},".jsone-delimiter":{display:"inline-block",color:"#666",padding:"0 2px"},".jsone-input":{margin:0,padding:"4px",border:0,"border-radius":"0","border-bottom":"1px solid #ccc",background:"#fff","box-sizing":"border-box"},"textarea.jsone-input":{resize:"vertical",height:"22px",width:"100%"},'.jsone-input[type="submit"], button.jsone-input':{padding:"4px 10px",color:"#fff","background-color":"#757575","border-radius":"2px","box-shadow":"0 2px 5px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12)"},'.jsone-input[type="submit"]:disabled, button.jsone-input:disabled':{color:"#9F9F9F","background-color":"#DFDFDF"},".jsone-input-add:before":{display:"inline-block",content:'"+"',padding:"4px"},".jsone-edit-json":{"box-sizing":"border-box",width:"100%",height:"400px","background-color":"#272822",color:"#f8f8f2"}},"jsone-sheet"),this};window.__mdd||(window.__mdd=function(e,t){return this.__mdd=!0,"object"==typeof e?this.elements=e.__mdd?e:[e]:e?this.elements=[].slice.call((t?t.__mdd?t.elements[0]||document:t||document:document).querySelectorAll(e)):this.elements=[],this},__mdd.prototype.on=function(e,t){var n=this;return e.split(/[\s,]+/).forEach(function(e){e&&n.elements.forEach(function(n){n.addEventListener(e,t)})}),this},__mdd.prototype.find=function(e){return new __mdd(e,this)},__mdd.prototype.new=function(e){return this.elements=[document.createElement(e)],this},__mdd.prototype.css=function(e){return this.elements.forEach(function(t){for(var n in e)t.style.setProperty(n,e[n]+"")}),this},__mdd.prototype.class=function(e){return this.elements.forEach(function(t){t.className=e}),this},__mdd.prototype.attr=function(e){return this.elements.forEach(function(t){for(var n in e)"boolean"!=typeof e[n]?e[n]||0===e[n]?t.setAttribute(n,e[n]):t.removeAttribute(n):t[n]=e[n]}),this},__mdd.prototype.appendTo=function(e){var t=this,n=e.elements||[e];return n.forEach(function(e){t.elements.forEach(function(t){e.appendChild(t)})}),this},__mdd.prototype.append=function(e){return this.elements.forEach(function(t){e.elements.forEach(function(e){t.appendChild(e)})}),this},__mdd.prototype.text=function(e){if("undefined"!=typeof e)return this.elements.forEach(function(t){t.textContent=e}),this;var e="";return this.elements.forEach(function(t){e+=t.textContent||""}),e},__mdd.prototype.html=function(e){if("undefined"!=typeof e)return this.elements.forEach(function(t){t.innerHTML=e}),this;var e="";return this.elements.forEach(function(t){e+=t.innerHTML||""}),e},__mdd.prototype.autosizeTextarea=function(e){var t=this;return e?this.elements.forEach(function(e){e.style.overflow="scroll",e.style.minHeight=e.scrollHeight>12?e.scrollHeight+"px":"12px",e.style.overflow="hidden"}):(this.autosizeTextarea(!0),this.on("input",function(e){t.autosizeTextarea(!0)})),this},__mdd.prototype.stylesheet=function(e,t){if("object"==typeof e){var n="";Object.keys(e).forEach(function(t){n+=t+" { ",Object.keys(e[t]).forEach(function(o){n+=o+":"+e[t][o]+";"}),n+=" } "}),e=n}var o=document.head||document.getElementsByTagName("head")[0],a=document.getElementById(t)||document.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e)),o.appendChild(a)},__mdd.prototype.http=function(){for(var e,t,n,o={},a=arguments.length-1;a>=0;a--)"object"==typeof arguments[a]?o=arguments[a]:"string"==typeof arguments[a]?e=arguments[a]:"function"==typeof arguments[a]&&(t=arguments[a]);o.type=o.type||o.data?"POST":"GET",o.url=e||o.url||"",o.callback=t||o.callback||function(){},o.data=o.data||"";var r=new XMLHttpRequest;r.open(o.type,o.url,!0),r.timeout=o.timeout||5e3,r.onload=function(){var e=!1;if(n=!1,r.status>=200&&r.status<400&&(n=r.responseText),o.json||".json"===o.url.substr(-5))try{n=JSON.parse(r.responseText)}catch(t){e="could not parse json from url: "+o.url,n=!1}o.callback(e,n)},r.onerror=function(e){o.callback(e,!1)},r.ontimeout=function(e){o.callback("timeout",!1)},r.send(o.data)});var n=function(e,t){return new __mdd(e,t)};return n().find("jsone").elements.forEach(function(e){var n={node:e};[].slice.call(e.attributes).forEach(function(e){if("data-"===e.name.substr(0,5))try{n[e.name.substr(5)]=JSON.parse(e.value)}catch(t){n[e.name.substr(5)]=e.value}}),e.jsone=new t(n)}),e.jsone=t,this}(window);