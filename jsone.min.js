!function(e){"use strict";var t=function(e){var t=this;return t.__config=e||{},Array.isArray(t.__config.editable)||(t.__config.editable=["string","number","date","boolean"]),t.__config.hashNavigation&&window.addEventListener("hashchange",function(e){var n=(window.location.hash||"").substr(1);n&&(n="/"+n);var o=t.__state.rows[t.__state.rowsref[t.jsonName+n]];o&&t.goToNode(o,!0,!0)}),t.__node=n(e.node||document.querySelector(e.node)||document.getElementById("jsone")||document.body).class("jsone"),t.__state={rows:[],rowsref:{},conf:{},help:0,is_changed:!1,changes:{}},t.inputChangeEvent=function(e,n){clearTimeout(t.__state.changes_timer),t.__state.changes_timer=setTimeout(function(){t.checkForChanges(e,n)},100)},t.jsonChangeEvent=function(e,n){clearTimeout(t.__state.changes_timer),t.__state.changes_timer=setTimeout(function(){t.checkForChangesJSON(e,n)},100)},t.checkForChangesJSON=function(e,n){var o,a=!1;try{o=JSON.parse(e.value),a=!0,e.style.outline=""}catch(o){t.emit("jsonparse",n),e.style.outline="2px solid red"}if(a){var r=t.__state.rowsref[n],s=t.__state.rows[r];if(s&&JSON.stringify(s.node[s.key])!==JSON.stringify(o)){if("object"==typeof o){for(var i in o)s.node[s.key][i]=o[i];for(var i in s.node[s.key])"undefined"==typeof o[i]&&delete s.node[s.key][i]}else s.node[s.key]=o;for(var c=t.__state.rows[r];c;)0===c.joinpath.indexOf(n)?(c.changed=!0,r++,c=t.__state.rows[r]):c=!1;t.__track_change(n,o),t.renderState({rowsOnly:!0})}}},t.checkForChanges=function(e,n){var o=t.__state.rows[t.__state.rowsref[n]];o&&o.node[o.key]!=e.value&&("number"===o.type?o.node[o.key]=e.value&&"0"!=e.value?1*e.value:"":"boolean"===o.type?o.node[o.key]=e.checked:o.node[o.key]=e.value||"",o.changed=!0,t.__track_change(n,o.node[o.key]),t.renderState({rowsOnly:!0}))},t.valueFromPath=function(e){return t.getFromPath(t.__json,e)},t.getFromPath=function(e,t){var n=e,o=!1;return t.forEach(function(e){"undefined"!=typeof n[e]?n=n[e]:o=!0}),!o&&n},t.json=function(e){if(!e)return t.initJSON(),!1;var n=typeof e;"object"===n?(t.__json=e,t.__jsonSaveKey||(t.__jsonSaveKey=t.__config.jsonName||"customObject"),t.initJSON()):"string"===n&&(t.__jsonSaveKey=e,t.fetch(e,function(e,n){n||t.emit("error","request error "+e),t.json(n)}))},t.getNodeType=function(e){var t=Array.isArray(e)?"array":typeof e;return"object"===t&&null===e&&(t="null"),t},t.loopJSON=function(e,n,o,a){if(o.length){var r=t.getNodeType(e[n]);if(a(e,n,o,r),"object"===r||"array"===r)for(var s in e[n])t.loopJSON(e[n],s,o.concat(s),a)}else for(var s in e)t.loopJSON(e,s,o.concat(s),a)},t.initJSON=function(){t.getStateConfig(t.__jsonSaveKey),Object.keys(t.__state.conf.expanded).length?null:t.__state.conf.expanded[t.__jsonSaveKey]=!0,t.jsonName=t.__config.jsonName||t.__jsonSaveKey.split("/").pop(),t.__state.help=t.__state.conf.help||t.jsonName,t.__state.editMode=t.__state.conf.editMode||"form",t.__state.conf.menu!==!1&&t.__node.attr({"data-menu":"1"}),window.location.hash.substr(1)&&(t.__state.help=t.jsonName+"/"+window.location.hash.substr(1));var e={properties:{}};e.properties[t.jsonName]=t.__schema,t.__schema=e,t.processJSON(),t.emit("jsonready",!0),t.renderState()},t.processJSON=function(){var e={};e[t.jsonName]=t.__json,t.__state.rows=[],t.__state.rowsref={},t.__json_rows.html(""),t.loopJSON(e,void 0,[],function(e,n,o,a){var r=o.join("/"),s=t.getSchemaForPath(o);s.type&&s.type!==a&&(e[n]=t.typeCast(e[n],s.type),t.emit("autofix",r,e[n],{path:o.concat(n),reason:"type",typeFrom:a,typeTo:s.type}),a=s.type);var i=t.__state.rows.push({node:e,key:n,path:o,joinpath:r,parent:o.slice(0,-1).join("/"),type:a,schema:s,changed:!0,expanded:t.__state.conf.expanded[r]||o.length<2||t.__state.help.indexOf(r)>-1?"1":0});t.__state.rowsref[r]=i-1})},t.schemaGetRefs=function(e,n){var o=[],a=function(e){if("object"==typeof e&&e)for(var t in e)if("object"==typeof e[t])if(e[t].$ref){var n=e[t].$ref.split("#")[0];n&&o.indexOf(n)<0&&o.push(n)}else a(e[t])},r=function(e){if("object"==typeof e&&e)for(var n in e)if("object"==typeof e[n])if(e[n].$ref){var o=e[n].$ref.split("#"),a=o[0]||"",s=o[1]||"";"/"===s[0]&&(s=s.substr(1));var i=t.__refs[a]||t.__schema;e[n]=s?t.getFromPath(i,s.split("/")):i}else r(e[n])};a(e);var s=0,i=0,c=!1,p=function(){i++,i===s&&(r(e),n(c,!0))};s++,o.forEach(function(e){s++,t.__refs[e]?setTimeout(p,0):t.fetch(e,function(n,o){o?(t.__refs[e]=o,t.schemaGetRefs(o,function(e,t){e&&(c=new Error("could not build sub-schema")),p()})):(t.emit("error","ref schema request error"+n),c=new Error("could not get or parse reference schema "+e),setTimeout(p,0))})}),setTimeout(p,0)},t.initSchema=function(e){t.__ref_urls=[],t.__refs={},t.schemaGetRefs(e,function(e,n){t.emit("schemaready",!0),t.json(t.__config.json)})},t.schema=function(e){return e?void("object"==typeof e?(t.__schema=e,t.initSchema(t.__schema)):t.fetch(e,function(e,n){n||t.emit("error","request error"+e),t.schema(n)})):(t.__schema={},!1)},t.getSchemaForPath=function(e){var n={0:[t.__schema]},o={};return e.forEach(function(o,a){var r=[];if(a>0){var s=e.slice(0,a);if("array"===t.__state.rows[t.__state.rowsref[s.join("/")]].type){var i=t.getSchemaForPath(s);i.items&&r.push(i.items)}}n[a]&&n[a].forEach(function(e){if(e.properties&&e.properties[o]&&r.push(e.properties[o]),e.patternProperties)for(var t in e.patternProperties){var n=new RegExp(t);n.test(o)&&r.push(e.patternProperties[t])}}),n[a+1]=(n[a+1]||[]).concat(r)}),n[e.length]&&n[e.length].forEach(function(e){for(var t in e)"undefined"==typeof o[t]&&(o[t]=e[t])}),o},t.typeCast=function(e,t){return typeof e===t&&null!==e||(e=Array.isArray(e)||"array"!==t?"object"==t?{}:"boolean"===t?!!e:"number"===t?0:"":[]),e},t.addToJSON=function(e,n){"array"===e.schema.type&&(n=e.node[e.key].length||0);var o=e.path.concat(n),a=o.join("/"),r=t.getSchemaForPath(o);"object"===e.type?e.node[e.key][n]=t.typeCast("",r.type):"array"===e.type&&e.node[e.key].push(t.typeCast("",r.type)),t.__track_change(e.joinpath,e.node[e.key]),t.processJSON();var s=t.__state.rowsref[a];return t.__state.rows[s]},t.getNodeDescription=function(e){var t="";return"object"===e.type?(t=e.node[e.key].name||e.node[e.key].title||e.node[e.key].label||e.node[e.key]._label||e.node[e.key].description,"string"==typeof t?'<span class="jsone-node-helper">'+n().new("span").text(t).text()+"</span>":""):"number"===e.type||"string"===e.type?'<span class="jsone-node-colon">:</span><span class="jsone-node-value">'+(e.node[e.key]?n().new("span").text(e.node[e.key]).text():'<span class="jsone-node-empty"></span>')+"</span>":"null"===e.type?'<span class="jsone-node-helper">null</span>':t},t.renderHelpSegment=function(e,o,a){var r=n().new("div").class("jsone-help-section").appendTo(o),s=r,i=r;if("main"!==a&&(r.class("jsone-help-row").attr({"data-path":e.joinpath,"data-parent-path":e.parent}),s=n().new("div").class("jsone-help-key").attr({title:e.joinpath+" ("+e.type+")"}).text(e.path[e.path.length-1]).append(n().new("span").class("jsone-node-colon").text(":")).appendTo(r),i=n().new("div").class("jsone-help-value").appendTo(r),s.append(n().new("span").class("jsone-drag-indicator").on("mousedown touchstart",t.sortingEvents))),"object"===e.type||"array"===e.type)"main"!==a&&(n().new("span").html(t.getNodeDescription(e)).appendTo(i),s.class("jsone-help-key jsone-help-key-clickable").on("click",function(n){t.__curMoveEvent||t.goToNode(e,!0)}),n().new("span").text(" »").class("jsone-help-key-clickable").appendTo(i).on("click",function(n){t.goToNode(e,!0)}));else if(t.__config.editable.indexOf(e.schema.format||e.type)>-1){var c={node:"textarea",attr:{placeholder:e.schema.placeholder||""}};"boolean"===e.type?(c.node="input",c.attr.type="checkbox",c.attr.checked=e.node[e.key]):"number"!==e.schema.format&&"date"!==e.schema.format&&"date-time"!==e.schema.format||(c.node="input",c.attr.type=e.schema.format.replace(/\-/g,""),c.attr.value=e.node[e.key]),c.dom=n().new(c.node).class("jsone-input").attr(c.attr).appendTo(i).on("input change",function(n){t.inputChangeEvent(c.dom.elements[0],e.joinpath)}),"textarea"===c.node&&c.dom.text(e.node[e.key]||"").autosizeTextarea()}if(e.schema.description&&n().new("div").class("jsone-help-description").html(e.schema.description).appendTo(i),("object"===e.type||"array"===e.type)&&"main"==a){var p=n().new("div").css({display:"table"}).appendTo(o);for(var d in e.node[e.key]){var l=t.__state.rows[t.__state.rowsref[e.path.concat(d).join("/")]];t.renderHelpSegment(l,p,"sub")}if(e.schema.additionalProperties!==!1)if("array"===e.type)n().new("button").text("add row").class("jsone-input jsone-input-add").on("click",function(n){t.addToJSON(e,"add"),t.renderState()}).appendTo(o);else{var _=n().new("datalist").attr({id:"propertyList"});e.schema.properties&&Object.keys(e.schema.properties).forEach(function(t){if("undefined"==typeof e.node[e.key][t]){var o="";e.schema.properties[t].description&&(o+=": "+e.schema.properties[t].description),n().new("option").attr({value:t}).text(t+o).appendTo(_)}});var u=n().new("form").css({"margin-top":"20px"}).on("submit",function(n){var o=u.find("input").elements[0].value||"";o&&"undefined"==typeof e.node[e.key][o]&&t.addToJSON(e,o),t.renderState(),n.preventDefault()}).append(n().new("label").class("jsone-ibb").text("add property ").append(n().new("input").class("jone-input").attr({type:"text",list:"propertyList"})).append(_)).append(n().new("span").text(" ")).append(n().new("input").class("jsone-input jsone-input-add").attr({type:"submit",value:"add property"})).appendTo(o)}}},t.renderHelpPath=function(e){t.__json_help.html("");var o=n().new("div").appendTo(t.__json_help);n().new("span").class("jsone-ibb jsone-help-menu").appendTo(o).on("click",function(e){t.__state.conf.menu=t.__state.conf.menu===!1,t.__node.attr({"data-menu":t.__state.conf.menu!==!1?"1":"0"})});var a=n().new("span").class("jsone-ibb jsone-help-path").appendTo(o),r=n().new("span").class("jsone-ibb jsone-help-ops").appendTo(o);e.path.forEach(function(o,r){n().new("span").class("jsone-ibb jsone-help-key-clickable").text(o).on("click",function(n){t.goToNode(t.__state.rows[t.__state.rowsref[e.parent]],!0)}).appendTo(a),r<e.path.length-1&&n().new("span").class("jsone-delimiter").text("/").appendTo(a)}),n().new("button").attr({href:"#"}).class("jsone-input").text("json"===t.__state.editMode?"form":"json").appendTo(r).on("click",function(e){"json"===t.__state.editMode?t.__state.editMode="form":t.__state.editMode="json",t.renderState()});var s=n().new("div").class("jsone-help-items").appendTo(t.__json_help);if("json"===t.__state.editMode)var i=n().new("textarea").class("jsone-input jsone-edit-json").appendTo(s).text(JSON.stringify(e.node[e.key],void 0,2)||"").autosizeTextarea().on("input change",function(n){t.jsonChangeEvent(i.elements[0],e.joinpath)});else t.renderHelpSegment(e,s,"main")},t.goToNode=function(e,n,o){t.__state.help=e.joinpath,!o&&t.__config.hashNavigation&&(document.location.hash=e.path.slice(1).join("/")),n&&t.renderState()},t.renderState=function(e){e||(e={}),t.__state.conf={__jsone_saveKey:t.__jsonSaveKey,expanded:{},editMode:t.__state.editMode,help:t.__state.help},t.__state.rows.forEach(function(o){var a=o.path.length-1,r={"padding-left":10*a+"px",display:a>0?"none":"block"},s=!o.row;o.row=(o.row||n().new("div").class("jsone-row")).attr({"data-children":"object"!==o.type&&"array"!==o.type?"0":"1","data-expanded":o.expanded,"data-active":"0"}),o.changed&&(o.row.html("").append(n().new("span").class("jsone-row-toggle")).append(n().new("span").class("jsone-row-text").html('<span class="jsone-node-key">'+o.key+"</span>"+t.getNodeDescription(o))).css(r).attr({title:o.key+" ("+o.type+") "+(o.schema.description||"")}),o.changed=!1),s&&o.row.appendTo(t.__json_rows).on("click",function(e){"jsone-row-toggle"!==e.target.className&&"jsone-node-key"!==e.target.className||(o.expanded=o.expanded||"object"!==o.type&&"array"!==o.type?0:1),"jsone-row-toggle"!==e.target.className&&t.goToNode(o,!1),t.renderState()}),o.parent&&(t.__state.rows[t.__state.rowsref[o.parent]].expanded?o.row.css({display:""}):(o.expanded=0,o.row.attr({expanded:0}).css({display:"none"}))),o.expanded&&(t.__state.conf.expanded[o.joinpath]=!0),e.rowsOnly||t.__state.help!==o.joinpath||(o.row.attr({"data-active":"1"}),t.renderHelpPath(o))}),t.saveStateConfig()},t.saveStateConfig=function(){clearTimeout(t.saveConfigTimer),t.saveConfigTimer=setTimeout(function(){window.localStorage.setItem("jsone_state_config",JSON.stringify(t.__state.conf))},100)},t.getStateConfig=function(e){var n=window.localStorage.getItem("jsone_state_config");if(n)try{n=JSON.parse(n)}catch(e){n={}}else n={};n.expanded||(n.expanded={}),n.__jsone_saveKey===e?t.__state.conf=n:t.__state.conf=n={expanded:{}}},t.fetch=function(e,n){t.__config.url_replace&&Object.keys(t.__config.url_replace).forEach(function(n){e=e.replace(n,t.__config.url_replace[n])}),__mdd.prototype.http(e,n)},t.__node.elements[0].classList.add("jsone"),t.__json_rows=n().new("div").class("jsone-rows").appendTo(t.__node),t.__json_help=n().new("div").class("jsone-help").appendTo(t.__node),t.sortingEvents=function(e){e.preventDefault();for(var n=e.target,o=e.target.getAttribute("data-path");!o&&n;)"jsone"===n.parentNode.className?n=!1:n.parentNode&&(n=n.parentNode,o=n.getAttribute("data-path"));if("mousedown"===e.type||"touchstart"===e.type)t.__curMoveEvent={path:o,getState:function(){t.__curMoveEvent.els=t.__json_help.find(".jsone-help-row").elements,t.__curMoveEvent.currentOrder=t.__curMoveEvent.els.map(function(e){return e.getAttribute("data-path")}),t.__curMoveEvent.index=t.__curMoveEvent.currentOrder.indexOf(o)}},t.__curMoveEvent.getState(),window.addEventListener("mousemove",t.sortingEvents),window.addEventListener("mouseup",t.sortingEvents);else if(o&&t.__curMoveEvent)if("mouseup"===e.type||"touchend"===e.type)setTimeout(function(){t.__curMoveEvent.getState();var e=t.__curMoveEvent.path.split("/").slice(0,-1).join("/"),n=t.__state.rows[t.__state.rowsref[e]];if(t.__curMoveEvent.currentOrder&&("object"===n.type||"array"===n.type)){var o="array"!==n.type?{}:[];t.__curMoveEvent.currentOrder.forEach(function(e){var a=t.__state.rows[t.__state.rowsref[e]];"array"!==n.type?o[a.key]=a.node[a.key]:o.push(a.node[a.key])}),n.node[n.key]=o,t.__track_change(e,o),t.processJSON(),t.renderState()}t.__curMoveEvent=!1},100),window.removeEventListener("mousemove",t.sortingEvents),window.removeEventListener("touchend",t.sortingEvents);else if("mousemove"===e.type||"touchmove"===e.type){if(o!==t.__curMoveEvent.path){var a=t.__curMoveEvent.currentOrder.indexOf(o),r=t.__curMoveEvent.els[t.__curMoveEvent.index],s=t.__curMoveEvent.els[a];r&&s&&("down"===t.__curMoveEvent.direction?s.parentNode.insertBefore(s,r):s.parentNode.insertBefore(r,s))}t.__curMoveEvent.y=e.touches?e.touches[0].pageY:e.pageY,t.__curMoveEvent.direction=t.__curMoveEvent.y<t.__curMoveEvent.lastY?"up":"down",t.__curMoveEvent.lastY=t.__curMoveEvent.y}},t.__changes=[],t.__track_change=function(e,n){var o=!1;t.__changes.forEach(function(t){e.indexOf(t)>-1&&(o=!0)}),o||t.__changes.push(e),t.emit("change",e,n),t.getChanges()},t.getChanges=function(){var e=[];return t.__changes.forEach(function(n){e.push({path:n,value:t.valueFromPath(n.split("/").slice(1))})}),e},t.__listeners={},t.emit=function(){t.__listeners.event&&t.__listeners.event([].slice.call(arguments)),t.__listeners[event]&&t.__listeners[event](arguments[0],arguments[1],arguments[2],arguments[3])},t.on=function(e,n){"function"==typeof n&&(t.__listeners[e]=n)},setTimeout(function(){t.schema(t.__config.schema),t.emit("init",!0)},0),__mdd.prototype.stylesheet({".jsone":{position:"relative",overflow:"hidden",width:"100%"},".jsone-rows":{position:"absolute",left:0,top:0,height:"100%","padding-top":"12px","font-family":"monospace, Courier New","font-size":"12px",overflow:"hidden","overflow-y":"auto","white-space":"nowrap",width:"300px"},".jsone-help":{background:"#fff","min-height":"400px","max-height":"400px","overflow-y":"auto","max-width":"800px",transform:"translate3d(0, 0, 0)",transition:"transform 0.15s ease-in-out"},'.jsone[data-menu="1"] .jsone-help':{width:"calc(100% - 300px)",transform:"translate3d(300px, 0, 0)"},".jsone-ibb":{display:"inline-block","vertical-align":"middle","box-sizing":"border-box"},".jsone-row":{cursor:"pointer"},".jsone-row:hover":{"background-color":"#f1f1f1"},".jsone-row-text":{display:"inline-block",padding:"4px 0"},".jsone-row-toggle:before":{content:'""',display:"inline-block",width:"16px"},'.jsone-row[data-children="1"] .jsone-row-toggle:before':{content:'"+"'},'.jsone-row[data-children="1"][data-expanded="1"] .jsone-row-toggle:before':{content:'"–"'},'.jsone-row[data-active="1"]':{"background-color":"#f1f1f1"},".jsone-node-helper":{"padding-left":"4px","font-size":"-1",color:"#CCC"},".jsone-node-key":{color:"#9936a1"},".jsone-node-colon":{"margin-right":"2px"},".jsone-node-value":{color:"#666"},".jsone-node-empty:before":{content:'"-"',color:"#ccc"},".jsone-help-menu":{cursor:"pointer",padding:"8px 12px",width:"40px"},".jsone-help-menu:before":{display:"inline-block",transition:"transform 0.5s ease-in-out",transform:"rotate(0deg)","transform-origin":"50% 50%",content:'"»"'},'.jsone[data-menu="1"] .jsone-help-menu:before':{transform:"rotate(180deg)"},".jsone-help-path":{padding:"12px 12px 12px 0",width:"calc(100% - 90px)"},".jsone-help-ops":{"text-align":"right","padding-right":"12px",width:"50px"},".jsone-help-items":{padding:"0 12px 12px 12px"},".jsone-help-key":{position:"relative","text-align":"right",padding:"12px 4px 12px 20px",display:"table-cell","vertical-align":"top",overflow:"hidden","font-weight":"bold"},".jsone-help-key-clickable":{color:"#9936a1",cursor:"pointer"},".jsone-drag-indicator":{cursor:"move",position:"absolute",left:0,"text-align":"center",top:"10px",width:"12px",height:"12px",display:"inline-block"},".jsone-drag-indicator:before":{display:"inline-block",content:'"↕"'},".jsone-help-value":{padding:"12px 0",display:"table-cell","vertical-align":"top",width:"100%"},".jsone-help-description":{color:"#999"},".jsone-help-section":{"margin-bottom":"12px"},".jsone-help-row":{display:"table-row"},".jsone-help-section:first":{"border-top-color":"#666"},".jsone-delimiter":{display:"inline-block",color:"#666",padding:"0 2px"},".jsone-input":{margin:0,padding:"4px",border:0,"border-radius":"0","border-bottom":"1px solid #ccc",background:"#fff","box-sizing":"border-box"},"textarea.jsone-input":{resize:"vertical",height:"22px",width:"100%"},'.jsone-input[type="submit"], button.jsone-input':{padding:"4px 10px",color:"#fff","background-color":"#757575","border-radius":"2px","box-shadow":"0 2px 5px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12)"},'.jsone-input[type="submit"]:disabled, button.jsone-input:disabled':{color:"#9F9F9F","background-color":"#DFDFDF"},".jsone-input-add:before":{display:"inline-block",content:'"+"',padding:"4px"},".jsone-edit-json":{"box-sizing":"border-box",width:"100%",height:"400px","background-color":"#272822",color:"#f8f8f2"}},"jsone-sheet"),this};window.__mdd||(window.__mdd=function(e,t){return this.__mdd=!0,"object"==typeof e?this.elements=e.__mdd?e:[e]:e&&(this.elements=[].slice.call((t?t.__mdd?t.elements[0]:t:document).querySelectorAll(e))),this},__mdd.prototype.on=function(e,t){var n=this;return e.split(/[\s,]+/).forEach(function(e){e&&n.elements.forEach(function(n){n.addEventListener(e,t)})}),this},__mdd.prototype.find=function(e){return new __mdd(e,this)},__mdd.prototype.new=function(e){return this.elements=[document.createElement(e)],this},__mdd.prototype.css=function(e){return this.elements.forEach(function(t){for(var n in e)t.style.setProperty(n,e[n]+"")}),this},__mdd.prototype.class=function(e){return this.elements.forEach(function(t){t.className=e}),this},__mdd.prototype.attr=function(e){return this.elements.forEach(function(t){for(var n in e)"boolean"!=typeof e[n]?e[n]||0===e[n]?t.setAttribute(n,e[n]):t.removeAttribute(n):t[n]=e[n]}),this},__mdd.prototype.appendTo=function(e){var t=this,n=e.elements||[e];return n.forEach(function(e){t.elements.forEach(function(t){e.appendChild(t)})}),this},__mdd.prototype.append=function(e){return this.elements.forEach(function(t){e.elements.forEach(function(e){t.appendChild(e)})}),this},__mdd.prototype.text=function(e){if("undefined"!=typeof e)return this.elements.forEach(function(t){t.textContent=e}),this;var e="";return this.elements.forEach(function(t){e+=t.textContent||""}),e},__mdd.prototype.html=function(e){if("undefined"!=typeof e)return this.elements.forEach(function(t){t.innerHTML=e}),this;var e="";return this.elements.forEach(function(t){e+=t.innerHTML||""}),e},__mdd.prototype.autosizeTextarea=function(e){var t=this;return e?this.elements.forEach(function(e){e.style.overflow="scroll",e.style.minHeight=e.scrollHeight>12?e.scrollHeight+"px":"12px",e.style.overflow="hidden"}):(this.autosizeTextarea(!0),this.on("input",function(e){t.autosizeTextarea(!0)})),this},__mdd.prototype.stylesheet=function(e,t){if("object"==typeof e){var n="";Object.keys(e).forEach(function(t){n+=t+" { ",Object.keys(e[t]).forEach(function(o){n+=o+":"+e[t][o]+";"}),n+=" } "}),e=n}var o=document.head||document.getElementsByTagName("head")[0],a=document.getElementById(t)||document.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e)),o.appendChild(a)},__mdd.prototype.http=function(){for(var e,t,n,o={},a=arguments.length-1;a>=0;a--)"object"==typeof arguments[a]?o=arguments[a]:"string"==typeof arguments[a]?e=arguments[a]:"function"==typeof arguments[a]&&(t=arguments[a]);o.type=o.type||o.data?"POST":"GET",o.url=e||o.url||"",o.callback=t||o.callback||function(){},o.data=o.data||"";var r=new XMLHttpRequest;r.open(o.type,o.url,!0),r.timeout=o.timeout||5e3,r.onload=function(){var e=!1;if(n=!1,r.status>=200&&r.status<400&&(n=r.responseText),o.json||".json"===o.url.substr(-5))try{n=JSON.parse(r.responseText)}catch(t){e="could not parse json from url: "+o.url,n=!1}o.callback(e,n)},r.onerror=function(e){o.callback(e,!1)},r.ontimeout=function(e){o.callback("timeout",!1)},r.send(o.data)});var n=function(e,t){return new __mdd(e,t)};return e.jsone=t,this}(window);